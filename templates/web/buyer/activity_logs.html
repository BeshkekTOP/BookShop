{% extends 'web/base.html' %}
{% block title %}Логи активности{% endblock %}
{% block content %}
<div style="max-width: 1400px; margin: 0 auto; padding: 20px;">
	<h1>Логи активности</h1>
	
	<div style="background: #fff; padding: 20px; border-radius: 8px; border: 1px solid #e5e7eb; margin-top: 20px; overflow-x: auto;">
		<table style="width: 100%; border-collapse: collapse;">
			<thead style="background: #f9fafb;">
				<tr>
					<th style="padding: 12px; text-align: left; font-weight: 600;">Дата/Время</th>
					<th style="padding: 12px; text-align: left; font-weight: 600;">Действие</th>
					<th style="padding: 12px; text-align: left; font-weight: 600;">Описание</th>
					<th style="padding: 12px; text-align: left; font-weight: 600;">IP</th>
				</tr>
			</thead>
			<tbody>
				{% for log in logs %}
				<tr style="border-top: 1px solid #e5e7eb;">
					<td style="padding: 12px; color: #6b7280; white-space: nowrap;">
						{{ log.created_at|date:"d.m.Y H:i:s" }}
					</td>
					<td style="padding: 12px;">
						{% if log.action == 'created' %}
							<span style="color: #10b981; font-weight: 600;">Создано</span>
						{% elif log.action == 'updated' %}
							<span style="color: #2563eb; font-weight: 600;">Обновлено</span>
						{% elif log.action == 'deleted' %}
							<span style="color: #ef4444; font-weight: 600;">Удалено</span>
						{% elif log.action == 'viewed' %}
							<span style="color: #6b7280; font-weight: 600;">Просмотрено</span>
						{% elif log.action == 'login' %}
							<span style="color: #10b981; font-weight: 600;">Вход</span>
						{% elif log.action == 'logout' %}
							<span style="color: #f59e0b; font-weight: 600;">Выход</span>
						{% elif log.action == 'registered' %}
							<span style="color: #8b5cf6; font-weight: 600;">Регистрация</span>
						{% else %}
							<span style="color: #6b7280;">{{ log.get_action_display }}</span>
						{% endif %}
					</td>
					<td style="padding: 12px;">
						{% if log.description %}
							{{ log.description }}
						{% elif log.content_object %}
							{{ log.content_object }}
						{% elif log.object_id %}
							ID: {{ log.object_id }}
						{% else %}
							—
						{% endif %}
					</td>
					<td style="padding: 12px; color: #6b7280; font-family: monospace; font-size: 0.9em;">
						{{ log.ip_address|default:"—" }}
					</td>
				</tr>
				{% empty %}
				<tr>
					<td colspan="4" style="padding: 40px; text-align: center; color: #6b7280;">
						Логов пока нет
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	
	<div style="margin-top: 20px;">
		<a href="/profile/" class="btn btn-ghost">← Назад к профилю</a>
	</div>
</div>
{% endblock %}

