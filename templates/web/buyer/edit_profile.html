{% extends 'web/base.html' %}
{% block title %}Редактирование профиля{% endblock %}
{% block content %}
<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
	<h1>⚙️ Редактирование профиля</h1>
	
	<form method="post" style="background: #fff; border: 1px solid #e5e7eb; border-radius: 8px; padding: 20px;">
		{% csrf_token %}
		
		<h2 style="margin: 0 0 15px 0;">Личная информация</h2>
		
		<!-- Username (только для чтения) -->
		<div style="margin-bottom: 15px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Имя пользователя (логин):</label>
			<input type="text" value="{{ user.username }}" readonly
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px; background-color: #f9fafb; color: #6b7280;">
			<small style="color: #6b7280; font-size: 0.9em;">Имя пользователя нельзя изменить</small>
		</div>
		
		<div style="margin-bottom: 15px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Имя:</label>
			<input type="text" name="first_name" value="{{ user.first_name }}" 
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
		</div>
		<div style="margin-bottom: 15px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Фамилия:</label>
			<input type="text" name="last_name" value="{{ user.last_name }}" 
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
		</div>
		<div style="margin-bottom: 15px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Email *:</label>
			<input type="email" name="email" value="{{ user.email }}" required
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;"
			       placeholder="example@email.com">
		</div>
		<div style="margin-bottom: 20px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Новый пароль:</label>
			<input type="password" name="password" placeholder="••••••••" 
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
			<small style="color: #6b7280; font-size: 0.9em;">Оставьте пустым, если не хотите менять пароль</small>
		</div>
		
		<h2 style="margin: 20px 0 15px 0;">Контакты</h2>
		<div style="margin-bottom: 15px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Телефон:</label>
			<input type="text" name="phone" value="{{ profile.phone }}" 
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
		</div>
		
		<h2 style="margin: 20px 0 15px 0;">Адрес доставки</h2>
		<div style="margin-bottom: 15px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Город:</label>
			<input type="text" name="city" value="{{ profile.city }}" 
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
		</div>
		<div style="margin-bottom: 15px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Адрес:</label>
			<textarea name="address" rows="3" style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">{{ profile.address }}</textarea>
		</div>
		<div style="margin-bottom: 20px;">
			<label style="display: block; margin-bottom: 5px; font-weight: 600;">Индекс:</label>
			<input type="text" name="postal_code" value="{{ profile.postal_code }}" 
			       style="width: 100%; padding: 10px; border: 1px solid #d1d5db; border-radius: 6px;">
		</div>
		
		<div style="display: flex; gap: 10px;">
			<button type="submit" class="btn">Сохранить изменения</button>
			<a href="/profile/" class="btn" style="background: #6b7280;">Отмена</a>
		</div>
	</form>
</div>
{% endblock %}



